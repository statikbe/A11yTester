class f{constructor(){}static call(e={}){const t={...{url:"",data:null,form:null,method:"GET",xhr:null,success:null,error:null},...e};if(t.xhr&&t.xhr.abort(),t.xhr=new XMLHttpRequest,t.xhr.open(t.method,t.url,!0),t.xhr.onload=function(){if(this.status>=200&&this.status<400){if(t.success&&typeof t.success=="function"){let s=this.response;try{s=JSON.parse(s)}catch{}t.success(s)}}else console.error("Something went wrong when fetching data"),t.error&&typeof t.error=="function"&&t.error(this.status)},t.xhr.onerror=function(){console.error("There was a connection error"),t.error&&typeof t.error=="function"&&t.error()},t.data||t.form){let s=new FormData;if(t.form&&(s=new FormData(t.form)),t.data)for(let i in t.data)s.append(i,t.data[i]);t.xhr.send(s)}else t.xhr.send();return t.xhr}}class u{constructor(){}static loadScript(e,o){var t=document.createElement("script");t.type="text/javascript",t.src=e,typeof o<"u"&&t.addEventListener("load",function(){o()}),document.body.appendChild(t)}static onDynamicContent(e,o,t,s=!1){new MutationObserver(c=>{for(let n of c)n.type==="childList"&&Array.from(n.addedNodes).forEach(a=>{if(a.nodeType==1){const r=a.querySelectorAll(o);r.length>0?t(r):a.matches(o)&&t([a])}}),n.type==="attributes"&&s&&(typeof s=="string"?n.attributeName==s&&n.target.matches(o)&&t([n.target]):n.target.matches(o)&&t([n.target]))}).observe(e,{attributes:typeof s=="boolean"?s:s.length>0,childList:!0,subtree:!0})}}class p{constructor(){const e=document.querySelectorAll(".js-copy-selector");e&&(Array.from(e).forEach(t=>{this.initCopyButton(t)}),u.onDynamicContent(document.documentElement,".js-copy-selector",t=>{Array.from(t).forEach(s=>{this.initCopyButton(s)})}));const o=document.querySelectorAll(".js-retest-btn");o&&(Array.from(o).forEach(t=>{this.initRetestButton(t)}),u.onDynamicContent(document.documentElement,".js-retest-btn",t=>{Array.from(t).forEach(s=>{this.initRetestButton(s)})}))}initCopyButton(e){e.addEventListener("click",o=>{o.preventDefault();const s=e.parentElement.querySelector("pre").innerText;navigator.clipboard.writeText(s).then(()=>{e.classList.add("copied"),setTimeout(()=>{e.classList.remove("copied")},2e3)})})}initRetestButton(e){e.addEventListener("click",o=>{o.preventDefault();const t=e.getAttribute("data-url"),s=e.getAttribute("data-api"),i=e.getAttribute("data-element"),c=`${s}?url=${t}`;e.classList.add("testing"),f.call({url:c,method:"GET",success:n=>{e.classList.remove("testing");const a=document.implementation.createHTMLDocument("");a.body.innerHTML=n;const r=document.getElementById(i),l=a.getElementById(i);l?r.innerHTML=l.innerHTML:r.innerHTML="No more errors found"},error:n=>{e.classList.remove("testing"),console.log(n)}})})}}class h{constructor(){}static scrollToY(e,o){const t=e.getBoundingClientRect(),s=window.pageYOffset||document.documentElement.scrollTop,i=(window.pageYOffset||document.documentElement.scrollTop)-(document.documentElement.clientTop||0),c=t.top+s-i;let n;window.requestAnimationFrame(function a(r){n||(n=r);var l=r-n,m=Math.min(l/o,1);window.scrollTo(0,i+c*m),l<o&&window.requestAnimationFrame(a)})}}class g{constructor(){this.animationSpeed=400,this.scrollSpeed=400;const e=document.querySelectorAll("[data-s-toggle]");Array.from(e).forEach(o=>{this.initToggleTarget(o)}),u.onDynamicContent(document.documentElement,"[data-s-toggle]",o=>{Array.from(o).forEach(t=>{t.classList.contains("toggle-initialized")||this.initToggleTarget(t)})})}initToggleTarget(e){const o=document.querySelectorAll(`[data-s-toggle-target="${e.id}"]`),t=parseInt(e.getAttribute("data-s-toggle-height")),s=parseInt(e.getAttribute("data-s-toggle-margin"))??0;t&&(e.scrollHeight>t+t*s/100?e.style.maxHeight=`${t}px`:Array.from(o).forEach(i=>{e.classList.add("expanded"),i.parentElement.removeChild(i)})),Array.from(o).forEach(i=>{this.initToggleTrigger(i,e)})}initToggleTrigger(e,o){const t=o.getAttribute("data-s-toggle-animation"),s=o.getAttribute("data-s-toggle-class")??"hidden",i=o.getAttribute("data-s-toggle-default-expanded"),c=o.getAttribute("data-s-toggle-group");i?e.setAttribute("aria-expanded","true"):e.setAttribute("aria-expanded","false"),e.setAttribute("aria-controls",o.id),e.setAttribute("tabindex","0"),e.addEventListener("click",n=>{if(n.preventDefault(),c){const r=document.querySelector(`#${c}`).querySelector('[data-s-toggle-target][aria-expanded="true"]');if(r&&r!==e){const l=document.querySelector(`#${r.getAttribute("data-s-toggle-target")}`);this.toggleAction(r,l,s,t)}}this.toggleAction(e,o,s,t)}),e.addEventListener("open",()=>{this.toggleAction(e,o,s,t)}),o.addEventListener("show",()=>{console.log("show"),this.toggleAction(e,o,s,t)})}toggleAction(e,o,t,s){const i=e.getAttribute("aria-expanded")==="true",c=document.querySelectorAll(`[data-s-toggle-target='${o.id}']`);if(Array.from(c).forEach(n=>{this.switchButtonState(n)}),e.getAttribute("data-s-toggle-scroll")){const n=document.querySelector(`${e.getAttribute("data-s-toggle-scroll")}`);n&&h.scrollToY(n,this.scrollSpeed)}i?s?this.hideAnimated(o,t,s):o.classList.add(t):(o.hasAttribute("data-s-toggle-height")&&(o.classList.add("expanded"),e.parentElement.removeChild(e)),s?this.showAnimated(o,t,s):(o.style.maxHeight="none",o.classList.remove(t),o.classList.add("expanded")))}switchButtonState(e){const o=e.getAttribute("aria-expanded")==="true";e.setAttribute("aria-expanded",o?"false":"true")}showAnimated(e,o,t){let s=this.animationSpeed;parseInt(t)&&(s=parseInt(t),e.style.transitionDuration=`${s}ms`);const i=this.getHeight(e);e.classList.remove(o),e.classList.add("expanded"),e.style.maxHeight=i,window.setTimeout(function(){e.style.maxHeight="none"},s)}hideAnimated(e,o,t){let s=this.animationSpeed;parseInt(t)&&(s=parseInt(t),e.style.transitionDuration=`${s}ms`),e.style.maxHeight=e.scrollHeight+"px",window.setTimeout(function(){e.style.maxHeight="0"},1),window.setTimeout(function(){e.classList.add(o),e.classList.remove("expanded")},s)}getHeight(e){e.style.display="block";var o=e.scrollHeight+"px";return e.style.display="",o}}new p;new g;
